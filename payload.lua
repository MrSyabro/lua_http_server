response.headers["Content-Type"] = "application/octet-stream"
response.headers["Content-Disposition"] = "attachment; filename=payload.bin"
response.headers["Content-Length"] = tostring((1024*1024*1024))
send_response(response)

local str = "UZPPZQKDLBODEHECQVYLWNSDLSCIIIGJVYZRMONZFTVDUGJVDOFVQUQRMZFYWQHDNC\
GALMGERPTEWTQIGCKCPSSAQCHGJQJGZSMTSUKFZCOKJAQUQUUHSCQLMNLRMSUFLVMBGHUCSUMENBTHT\
UIEBKLKHDLBKBAYWDRTAJJEDMJDWMDKXHGDYEOHIPTHYQYMRLIUGFAZUKBKDHPKYLDWIGHJEQJVZJQB\
LVBPIDQVMSUIXORGDTLABKSOBQWMGFRQDTTBJAQXXVZXTHHNBWYSIGUKNWPLCZVUDOVLBQMAJSRXWWB\
YFJYDGZACDPOKVYDBZCQMKVZPTDZIIHDNUUMZARVWGGYQUJKHEBSNXZDTSGGOAYCDCIZGOJYZWEDZVT\
PNUKFANUSDTCTKQCVYKWLVAASNTIVVXNPWDKJHIINACJCSYJOYVNRBMDMHONDHNSAAMFZNXMGXVTZKO\
XIDZONGSKGJLPLQBFUIRLEANFMOOMLGWMWRAPMYFREDHNNUBVRKWJDZXXOHPVLRQBJHBYJAUBPNRZHW\
JLRMNYIEEZKTOBFBQIOXIYSXTFQCBJVBYSYXEFPSUICDTMWLMTHVEUFVOSZFBBSDZBMNCCNTIZTYGTL\
XTBEFGMPXLVSDCRIFFIXXSLWXPTWJIPKVLEOBZETBDFZBUSUKPFNPHCGFHHVXETSDUESLIDPVDZAWCU\
MOYPKSCJHFIYMTRURIMDBSLPJLSDEEEISOXUDXUZXNWOGLFWSXOMCQNOBWGWHOMMNYVWLHXYZIMLBYZ\
MUTDMVSWPFUSLXRBJHPXVSDPWKIGNWTDXLBYYYOQEABLIHQZZITQOTLDGDXFFQZOZFSPQOWSAWKPXPE\
EOKRNGSTGQRYFRMILZJJTLGEOSEWWGYDPBFYUFETWWHUYXTAPWVYWNWFGNDQBUFMLRMTXGQCRRRVPJZ\
TNNJVWZYTXCDMWMOKWZEYNXRPDBSZCVTJFKAMZNGKMYPKVVHTPKIRZAUMOIMFZYYHQHWGXGXUUUEIPU\
NQJZTWPWEH"

for i=1, (1024*1024) do
	coroutine.yield(str)
end
